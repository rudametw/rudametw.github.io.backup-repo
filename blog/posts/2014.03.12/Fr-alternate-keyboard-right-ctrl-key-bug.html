
<!DOCTYPE HTML>
<html lang="en">

<head>
<meta charset="utf-8">
<!-- <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Walter Rudametkin">
<link rel="author" href="https://plus.google.com/+WalterRudametkin">

<title>Fr alternative keyboard layout bug (fr-oss)&#58; right ctrl key not working</title>



<!-- Add custom CSS here -->
<!-- <link rel="stylesheet" href="/assets/main-0ec8f5d7e7c4c4b18fea8bd28e694a64.css"> -->

<!-- <link rel="shortcut icon" href="favicon.ico"> -->
<link rel="icon" href="favicon.ico">

<!-- Test -->

</head>

<body>

    	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
				</button>
                <!-- <a class="navbar-brand" href="http://rudametkin.tk">Rudametkin.tk</a> -->
                <a class="navbar-brand" href="/">walter.rudametkin</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse navbar-right navbar-ex1-collapse">
				<ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
					<li><a href="/publications/">Publications</a></li>
					<li><a href="/teaching/">Teaching</a></li>
                    <li><a href="/research/">Research</a></li>
                    <li><a href="/blog/">Blog</a></li>
                    <li><a href="/photos/">Photos</a></li>
                    <li><a href="/contact/">Contact</a></li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>


    <div class="container">
        <div class="row">
            <div class="col-md-8">
                               <!-- the actual blog post: title/author/date/content -->
                <h1> Fr alternative keyboard layout bug (fr-oss)&#58; right ctrl key not working </h1>
                    <p class="lead">by <a href="/contact/">Walter Rudametkin</a> &nbsp;&nbsp;&nbsp;
                        
                            <a href="/blog/categories/linux/"><span class="label label-primary">linux</span></a>
                            &nbsp;
                        
                            <a href="/blog/categories/bug/"><span class="label label-primary">bug</span></a>
                            &nbsp;
                        
                    </p>
                        <span class="glyphicon glyphicon-time"></span> Posted 2014.03.12 
                        
                            &mdash; Rennes, France
                        

                <hr>
                
                <p>I really like the &#39;alternative&#39; french keyboard layout on my computer, a.k.a fr-oss. I like to use the deadkeys for accents in french and spanish, and I really like the alt-gr + ctrl# for doing arrows and stuff like that.</p>

<p>Earlier this year on my Fedora laptop (F20) for work the right ctrl key stopped working. It sucked because ctrl-arrows no longer jump through words in text documents. VLC right ctrl+Up/Down no longer changed the volume either, making me have to use both hands just for that. I figured it was a bug in Fedora so I found a neat command to fix the mapping while I waited for the problem to be fixed. However, some time later it happened to my wife&#39;s Ubuntu laptop and looking into it I found that the problem is comes from higher up the chain.</p>

<p>Someone decided to map right ctrl to something &quot;new&quot; instead of letting it be the same as the left ctrl key. Sure, if programs used the &quot;new right control&quot; it might be great and super useful. But they don&#39;t, so the key does nothing. Kind of beats the purpose, huh?</p>

<p><a href="https://bugs.freedesktop.org/show_bug.cgi?id=15804#c44">https://bugs.freedesktop.org/show_bug.cgi?id=15804#c44</a></p>

<p>To fix the problem, here&#39;s the command you can run.</p>

<div class="highlight"><pre><code class="bash">xmodmap -e <span class="s1">&#39;keycode 105 = Control_R&#39;</span> -e <span class="s1">&#39;clear Control&#39;</span> -e <span class="s1">&#39;add Control = Control_L Control_R&#39;</span>
</code></pre></div>

<p>However...</p>

<!--more-->

<p>the command needs to be run every time the machine is started. I figured I&#39;d put it into a startup script and voil√†! WRONG, sometimes after suspend/resume the key just stops working again. Or, when I connect the computer to my dock station and use the external monitors + keyboard + mouse, it also stops working.</p>

<p>I was going to do a cronjob or a script that ties into resume, but instead, I mapped a shortcut in XFCE to execute my script and notify me when it does. Pretty simple, the shortcut I used is <code>&lt;meta&gt; + k</code> (the windows key + k). The script is as follows:</p>

<div class="highlight"><pre><code class="bash"><span class="c">#!/bin/sh</span>
notify-send -u normal -t 1000 <span class="s2">&quot;Fixing right control key&quot;</span>
xmodmap -e <span class="s1">&#39;keycode 105 = Control_R&#39;</span> -e <span class="s1">&#39;clear Control&#39;</span> -e <span class="s1">&#39;add Control = Control_L Control_R&#39;</span>
</code></pre></div>

<p>The only <em>weird</em> thing is that it doesn&#39;t always work on the first try. Or the second. Or the third. But, if you hit <code>meta + k</code> enough, it&#39;ll work. I don&#39;t know why that is, on the command line it works on the first try every time, but with the shortcut it just is.</p>

                
                <!-- the comment box -->
<!--                 <div class="well">
                    <h4>Leave a Comment:</h4>
                    <form role="form">
                        <div class="form-group">
                            <textarea class="form-control" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div> -->

                <!-- the comments -->
<!--                 <hr>
 --><!--                 <h3>Start Bootstrap
                    <small>9:41 PM on August 24, 2013</small>
                </h3>
                <p>This has to be the worst blog post I have ever read. It simply makes no sense. You start off by talking about space or something, then you randomly start babbling about cupcakes, and you end off with random fish names.</p>

                <h3>Start Bootstrap
                    <small>9:47 PM on August 24, 2013</small>
                </h3>
                <p>Don't listen to this guy, any blog with the categories 'dinosaurs, spaceships, fried foods, wild animals, alien abductions, business casual, robots, and fireworks' has true potential.</p> -->

<!--             <div class="row"> -->
<!--                 % include well.html %} -->
<!--             </div> -->

<!--             </div> -->
<!--             % include well.html %} -->
            
            </div>
            <div class="col-md-4">
                <!-- <div class="col-md-4"> -->
    <!--              
    <div class="well">
        <h4>Blog Search</h4>
        <div class="input-group">
            <input type="text" class="form-control">
            <span class="input-group-btn">
                <button class="btn btn-default" type="button">
                    <span class="glyphicon glyphicon-search"></span>
                </button>
            </span>
        </div>
    </div>
    -->

    

    <div class="well">
        <div class="row">
            <div class="col-md-6">
                <h4>Current Tags</h4>
                <ul class="list-unstyled">
                    
                    <li><a href="/blog/categories/linux/">linux</a></li> 
                    <li><a href="/blog/categories/bug/">bug</a></li> 
                </ul>
            </div>
        </div>
    </div>

    

    <div class="well">
        <div class="row">
            <div class="col-lg-6">
                <h4>All Tags</h4>
                <ul class="list-unstyled">
                    <li><a href="/blog/">All</a></li> 
                    <li><a href="/blog/categories/linux/">linux</a></li> 
                    <li><a href="/blog/categories/nslu2/">nslu2</a></li> 
                    <li><a href="/blog/categories/work-in-progress/">work-in-progress</a></li> 
                    <li><a href="/blog/categories/webdav/">webdav</a></li> 
                    <li><a href="/blog/categories/cloud/">cloud</a></li> 
                    <li><a href="/blog/categories/first-post/">first-post</a></li> 
                    <li><a href="/blog/categories/jekyll/">jekyll</a></li> 
                    <li><a href="/blog/categories/github-pages/">github-pages</a></li> 
                    <li><a href="/blog/categories/markdown/">markdown</a></li> 
                    <li><a href="/blog/categories/untidy/">untidy</a></li> 
                    <li><a href="/blog/categories/thunderbird/">thunderbird</a></li> 
                    <li><a href="/blog/categories/bug/">bug</a></li> 
                    <li><a href="/blog/categories/life/">life</a></li> 
                    <li><a href="/blog/categories/fishing/">fishing</a></li> 
                    <li><a href="/blog/categories/feature/">feature</a></li> 
                    <li><a href="/blog/categories/chromium/">chromium</a></li> 
                    <li><a href="/blog/categories/mariage/">mariage</a></li> 
                </ul>
            </div>
        </div>
    </div>

    <div class="well">
        <h4>'Tis me blog matie</h4>
        <p>Sorry, no comments enabled for now because I'm using a simple static site generator (maybe I'll try out disqus another day).</p>
        <p>
            But if you like what you see, send me an <a href="/contact/">email</a>.
        </p>
    </div>
<!-- </div> -->

            </div>
        </div>
    </div>

    <hr>

    <div class="banner">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <!--                     <h2>You can check me out on</h2> -->
                <h2>Find me on</h2>
            </div>
            <div class="col-lg-9">
                <ul class="list-inline banner-social-buttons">
                    <li><a href="http://www.linkedin.com/in/rudametkin" class="btn btn-default btn-lg"><i class="fa fa-linkedin-square fa-fw"></i>
                            <span class="network-name">Linkedin</span></a></li>
                    <li><a href="https://github.com/rudametw" class="btn btn-default btn-lg"><i class="fa fa-github-square fa-fw"></i> <span
                            class="network-name">Github</span></a></li>
                    <li><a href="http://scholar.google.fr/citations?user=vJQGm9kAAAAJ&amp;hl=en" class="btn btn-default btn-lg"><i
                            class="fa fa-search fa-fw"></i> <span class="network-name">Scholar</span></a></li>
                    <li><a href="https://www.google.com/+WalterRudametkin?rel=author" class="btn btn-default btn-lg"><i
                            class="fa fa-google-plus-square fa-fw"></i> <span class="network-name">google+</span></a></li>
                    <li><a href="http://walterrudametkin.brandyourself.com/" class="btn btn-default btn-lg"><i
                            class="fa fa-share-square fa-fw"></i> <span class="network-name">brandyourself</span></a></li>
                </ul>
            </div>
        </div>
    </div>
    <!-- /.container -->

</div>
<!-- /.banner -->

<footer>
    <div class="container">
        <div class="span12 pagination-centered" style="text-align: center">
            <div class="row">
                <div class="col-lg-12">
                    <ul class="list-inline">
                        <li><a href="/">Home</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <!-- 						<li><a href="#about">About</a></li>
							<li class="footer-menu-divider">&sdot;</li>
	                    -->
                        <li><a href="/publications/">Publications</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/teaching/">Teaching</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/research/">Research</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/blog/">Blog</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/photos/">Photos</a></li>
                        <li class="footer-menu-divider">&sdot;</li>
                        <li><a href="/contact/">Contact</a></li>
                    </ul>

                    <p class="copyright text-muted small">
                        <a href="http://validator.w3.org/check?uri=referer"><img src="/img/valid-html401.png"
                            alt="Valid HTML 4.01 Frameset" height="20" width="57"></a> Built using <a href="http://jekyllrb.com/">Jekyll</a>, <a
                            href="http://twitter.github.com/bootstrap/">Bootstrap</a> and <a href="http://startbootstrap.com">Startbootstrap</a>. All
                        source code available <a href="https://github.com/rudametw/rudametw.github.io"> here</a>.
                    </p>
                    <p class="copyright text-muted small">
                    Githublove... 
                    <a href="https://www.google.com/+RudametwGithubIove" rel="publisher">got the hublove?</a> by Walter Rudametkin.
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Defer CSS -->
    <script type="text/javascript">
          var stylesheet = document.createElement('link');
          stylesheet.href = '/assets/main-0ec8f5d7e7c4c4b18fea8bd28e694a64.css';
          stylesheet.rel = 'stylesheet';
          stylesheet.type = 'text/css';
          document.getElementsByTagName('head')[0].appendChild(stylesheet);
    </script>

<!-- Add custom CSS here -->
<!-- <link rel="stylesheet" href="/assets/main-0ec8f5d7e7c4c4b18fea8bd28e694a64.css"> -->

<!-- Main Javascript -->
<!-- <script src="/assets/main-3c9909ea20f68da3f27d94c79deb4a1a.js"></script> -->
<script async type="text/javascript" src="/assets/main-3c9909ea20f68da3f27d94c79deb4a1a.js"></script>

<!-- <script> -->
<!-- loadStyleSheet(/assets/main-0ec8f5d7e7c4c4b18fea8bd28e694a64.css); -->
<!-- </script> -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48705379-1', 'rudametw.github.io');
  ga('send', 'pageview');
</script>

</body>
</html>